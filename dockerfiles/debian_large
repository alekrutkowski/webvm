FROM --platform=i386 i386/debian:buster
ARG DEBIAN_FRONTEND=noninteractive

RUN apt-get update && apt-get -y upgrade && \
	apt-get install -y apt-utils beef bsdgames bsdmainutils ca-certificates clang \
	cowsay cpio cron curl dmidecode dmsetup g++ gcc gdbm-l10n git  \
	hexedit  ifupdown init logrotate lsb-base lshw lua50 luajit lynx make \
	nano netbase nodejs openssl procps python3 python3-cryptography \
	python3-jinja2 python3-numpy python3-pandas python3-pip python3-scipy \
	python3-six python3-yaml readline-common rsyslog ruby sensible-utils \
	ssh systemd systemd-sysv tasksel tasksel-data udev vim wget whiptail \
	xxd iptables isc-dhcp-client isc-dhcp-common kmod less netcat-openbsd \
	r-base \
	r-cran-abind \
	r-cran-acepack \
	r-cran-ade4 \
	r-cran-adegenet \
	r-cran-adegraphics \
	r-cran-adephylo \
	r-cran-aer \
	r-cran-afex \
	r-cran-alakazam \
	r-cran-amelia \
	r-cran-amore \
	r-cran-animation \
	r-cran-ape \
	r-cran-aplpack \
	r-cran-arm \
	r-cran-askpass \
	r-cran-assertthat \
	r-cran-backports \
	r-cran-base64enc \
	r-cran-base64url \
	r-cran-batchjobs \
	r-cran-batchtools \
	r-cran-bayesfactor \
	r-cran-bayesm \
	r-cran-bayesplot \
	r-cran-bbmisc \
	r-cran-bbmle \
	r-cran-bdsmatrix \
	r-cran-beeswarm \
	r-cran-bh \
	r-cran-biasedurn \
	r-cran-bibtex \
	r-cran-bigmemory.sri \
	r-cran-bigmemory \
	r-cran-bindr \
	r-cran-bindrcpp \
	r-cran-bio3d \
	r-cran-biocmanager \
	r-cran-bit \
	r-cran-bit64 \
	r-cran-bitops \
	r-cran-blme \
	r-cran-blob \
	r-cran-blockmodeling \
	r-cran-bms \
	r-cran-bold \
	r-cran-boolnet \
	r-cran-boot \
	r-cran-bradleyterry2 \
	r-cran-brew \
	r-cran-brglm \
	r-cran-bridgesampling \
	r-cran-brobdingnag \
	r-cran-broom \
	r-cran-ca \
	r-cran-cairo \
	r-cran-cairodevice \
	r-cran-calibrate \
	r-cran-callr \
	r-cran-car \
	r-cran-cardata \
	r-cran-caret \
	r-cran-catools \
	r-cran-cellranger \
	r-cran-checkmate \
	r-cran-chron \
	r-cran-circlize \
	r-cran-class \
	r-cran-classint \
	r-cran-cli \
	r-cran-cliapp \
	r-cran-clipr \
	r-cran-clisymbols \
	r-cran-cluster \
	r-cran-clustergeneration \
	r-cran-cmprsk \
	r-cran-coda \
	r-cran-codetools \
	r-cran-coin \
	r-cran-colorspace \
	r-cran-colourpicker \
	r-cran-combinat \
	r-cran-commonmark \
	r-cran-contfrac \
	r-cran-conting \
	r-cran-corpcor \
	r-cran-crayon \
	r-cran-crosstalk \
	r-cran-crul \
	r-cran-cubature \
	r-cran-curl \
	r-cran-cvst \
	r-cran-data.table \
	r-cran-date \
	r-cran-dbi \
	r-cran-dbitest \
	r-cran-dbplyr \
	r-cran-ddalpha \
	r-cran-deal \
	r-cran-deldir \
	r-cran-dendextend \
	r-cran-deoptimr \
	r-cran-desc \
	r-cran-desolve \
	r-cran-devtools \
	r-cran-diagnosismed \
	r-cran-dichromat \
	r-cran-digest \
	r-cran-dimred \
	r-cran-diptest \
	r-cran-distory \
	r-cran-domc \
	r-cran-doparallel \
	r-cran-dorng \
	r-cran-dosefinding \
	r-cran-dosnow \
	r-cran-dotcall64 \
	r-cran-downloader \
	r-cran-dplyr \
	r-cran-drr \
	r-cran-dt \
	r-cran-dygraphs \
	r-cran-dynlm \
	r-cran-e1071 \
	r-cran-eaf \
	r-cran-earth \
	r-cran-eco \
	r-cran-ecodist \
	r-cran-effects \
	r-cran-ei \
	r-cran-eipack \
	r-cran-ellipse \
	r-cran-elliptic \
	r-cran-emmeans \
	r-cran-emoa \
	r-cran-energy \
	r-cran-epi \
	r-cran-epibasix \
	r-cran-epicalc \
	r-cran-epir \
	r-cran-epitools \
	r-cran-erm \
	r-cran-estimability \
	r-cran-etm \
	r-cran-evaluate \
	r-cran-evd \
	r-cran-expm \
	r-cran-extradistr \
	r-cran-factominer \
	r-cran-fail \
	r-cran-fansi \
	r-cran-fasianoptions \
	r-cran-fassets \
	r-cran-fastcluster \
	r-cran-fastica \
	r-cran-fastmatch \
	r-cran-fauxpas \
	r-cran-fbasics \
	r-cran-fbonds \
	r-cran-fcopulae \
	r-cran-fexoticoptions \
	r-cran-fextremes \
	r-cran-ffield \
	r-cran-fgarch \
	r-cran-fields \
	r-cran-filehash \
	r-cran-fimport \
	r-cran-fitbitscraper \
	r-cran-fitcoach \
	r-cran-flashclust \
	r-cran-flexmix \
	r-cran-fmultivar \
	r-cran-fnn \
	r-cran-fnonlinear \
	r-cran-foptions \
	r-cran-forcats \
	r-cran-foreach \
	r-cran-foreign \
	r-cran-formatr \
	r-cran-formula \
	r-cran-fpc \
	r-cran-fportfolio \
	r-cran-fregression \
	r-cran-fs \
	r-cran-ftrading \
	r-cran-fts \
	r-cran-funitroots \
	r-cran-futile.logger \
	r-cran-futile.options \
	r-cran-future \
	r-cran-g.data \
	r-cran-gam \
	r-cran-gbm \
	r-cran-gclus \
	r-cran-gdata \
	r-cran-gdtools \
	r-cran-gee \
	r-cran-geepack \
	r-cran-genabel.data \
	r-cran-genabel \
	r-cran-generics \
	r-cran-genetics \
	r-cran-geometry \
	r-cran-geosphere \
	r-cran-getopt \
	r-cran-ggally \
	r-cran-ggeffects \
	r-cran-ggplot2 \
	r-cran-ggridges \
	r-cran-ggsci \
	r-cran-ggvis \
	r-cran-gh \
	r-cran-git2r \
	r-cran-glmmtmb \
	r-cran-glmnet \
	r-cran-globaloptions \
	r-cran-globals \
	r-cran-glue \
	r-cran-gmaps \
	r-cran-gmm \
	r-cran-gmodels \
	r-cran-gnm \
	r-cran-goftest \
	r-cran-googlevis \
	r-cran-gower \
	r-cran-gplots \
	r-cran-gregmisc \
	r-cran-gridbase \
	r-cran-gridextra \
	r-cran-gsa \
	r-cran-gsl \
	r-cran-gss \
	r-cran-gtable \
	r-cran-gtools \
	r-cran-guerry \
	r-cran-haplo.stats \
	r-cran-haven \
	r-cran-hdf5 \
	r-cran-heatmaply \
	r-cran-hexbin \
	r-cran-highr \
	r-cran-hmisc \
	r-cran-hms \
	r-cran-htmltable \
	r-cran-htmltools \
	r-cran-htmlwidgets \
	r-cran-httpcode \
	r-cran-httpuv \
	r-cran-httr \
	r-cran-hwriter \
	r-cran-hypergeo \
	r-cran-igraph \
	r-cran-ini \
	r-cran-inline \
	r-cran-int64 \
	r-cran-interp \
	r-cran-ipred \
	r-cran-irace \
	r-cran-irlba \
	r-cran-iso \
	r-cran-isocodes \
	r-cran-isospec \
	r-cran-isoweek \
	r-cran-iterators \
	r-cran-its \
	r-cran-jsonld \
	r-cran-jsonlite \
	r-cran-kedd \
	r-cran-kernlab \
	r-cran-kernsmooth \
	r-cran-kmi \
	r-cran-knitr \
	r-cran-labeling \
	r-cran-lambda.r \
	r-cran-later \
	r-cran-lattice \
	r-cran-latticeextra \
	r-cran-lava \
	r-cran-lavaan \
	r-cran-lazyeval \
	r-cran-leaps \
	r-cran-learnbayes \
	r-cran-lexrankr \
	r-cran-lhs \
	r-cran-libcoin \
	r-cran-listenv \
	r-cran-littler \
	r-cran-lme4 \
	r-cran-lmertest \
	r-cran-lmtest \
	r-cran-logspline \
	r-cran-loo \
	r-cran-lpsolve \
	r-cran-lsmeans \
	r-cran-lubridate \
	r-cran-luminescence \
	r-cran-lwgeom \
	r-cran-magic \
	r-cran-magick \
	r-cran-magrittr \
	r-cran-maldiquant \
	r-cran-maldiquantforeign \
	r-cran-manipulatewidgets \
	r-cran-mapdata \
	r-cran-mapproj \
	r-cran-maps \
	r-cran-maptools \
	r-cran-maptree \
	r-cran-markdown \
	r-cran-mass \
	r-cran-matching \
	r-cran-matchit \
	r-cran-matrix \
	r-cran-matrixcalc \
	r-cran-matrixmodels \
	r-cran-matrixstats \
	r-cran-maxlik \
	r-cran-mclust \
	r-cran-mcmc \
	r-cran-mcmcpack \
	r-cran-mda \
	r-cran-medadherence \
	r-cran-memoise \
	r-cran-mertools \
	r-cran-metamix \
	r-cran-metrics \
	r-cran-mfilter \
	r-cran-mgcv \
	r-cran-mi \
	r-cran-mime \
	r-cran-miniui \
	r-cran-minpack.lm \
	r-cran-minqa \
	r-cran-misc3d \
	r-cran-misctools \
	r-cran-mitools \
	r-cran-mixtools \
	r-cran-mlbench \
	r-cran-mlmetrics \
	r-cran-mlmrev \
	r-cran-mlr \
	r-cran-mnormt \
	r-cran-mnp \
	r-cran-mockery \
	r-cran-mockr \
	r-cran-modelmetrics \
	r-cran-modelr \
	r-cran-modeltools \
	r-cran-msm \
	r-cran-multcomp \
	r-cran-multcompview \
	r-cran-multicore \
	r-cran-munsell \
	r-cran-mvnormtest \
	r-cran-mvtnorm \
	r-cran-natserv \
	r-cran-ncdf4 \
	r-cran-ncmeta \
	r-cran-nleqslv \
	r-cran-nlme \
	r-cran-nloptr \
	r-cran-nlp \
	r-cran-nmf \
	r-cran-nnet \
	r-cran-nnls \
	r-cran-nortest \
	r-cran-numderiv \
	r-cran-nws \
	r-cran-openssl \
	r-cran-openxlsx \
	r-cran-optparse \
	r-cran-parallelmap \
	r-cran-paramhelpers \
	r-cran-pbapply \
	r-cran-pbdzmq \
	r-cran-pbivnorm \
	r-cran-pbkrtest \
	r-cran-pbmcapply \
	r-cran-permute \
	r-cran-phangorn \
	r-cran-pheatmap \
	r-cran-phylobase \
	r-cran-phytools \
	r-cran-pillar \
	r-cran-pkgbuild \
	r-cran-pkgconfig \
	r-cran-pkgkitten \
	r-cran-pkgload \
	r-cran-pkgmaker \
	r-cran-pki \
	r-cran-plm \
	r-cran-plogr \
	r-cran-plotly \
	r-cran-plotmo \
	r-cran-plotrix \
	r-cran-pls \
	r-cran-plumber \
	r-cran-plyr \
	r-cran-png \
	r-cran-polspline \
	r-cran-polyclip \
	r-cran-polycub \
	r-cran-popepi \
	r-cran-powerlaw \
	r-cran-prabclus \
	r-cran-pracma \
	r-cran-praise \
	r-cran-prediction \
	r-cran-prettycode \
	r-cran-prettyr \
	r-cran-prettyunits \
	r-cran-princurve \
	r-cran-processx \
	r-cran-prodlim \
	r-cran-profilemodel \
	r-cran-progress \
	r-cran-promises \
	r-cran-proto \
	r-cran-ps \
	r-cran-pscbs \
	r-cran-pscl \
	r-cran-psy \
	r-cran-psych \
	r-cran-purrr \
	r-cran-purrrlyr \
	r-cran-pvclust \
	r-cran-pwr \
	r-cran-pwt \
	r-cran-pwt8 \
	r-cran-pwt9 \
	r-cran-qap \
	r-cran-qqman \
	r-cran-qtl \
	r-cran-quadprog \
	r-cran-quantmod \
	r-cran-quantreg \
	r-cran-qvcalc \
	r-cran-r.cache \
	r-cran-r.methodss3 \
	r-cran-r.oo \
	r-cran-r.utils \
	r-cran-r6 \
	r-cran-randomfields \
	r-cran-randomfieldsutils \
	r-cran-randomforest \
	r-cran-ranger \
	r-cran-rappdirs \
	r-cran-raschsampler \
	r-cran-raster \
	r-cran-rcarb \
	r-cran-rcmdcheck \
	r-cran-rcmdr \
	r-cran-rcmdrmisc \
	r-cran-rcolorbrewer \
	r-cran-rcpp \
	r-cran-rcppannoy \
	r-cran-rcpparmadillo \
	r-cran-rcppeigen \
	r-cran-rcppgsl \
	r-cran-rcppprogress \
	r-cran-rcpproll \
	r-cran-rcurl \
	r-cran-rdflib \
	r-cran-readbrukerflexdata \
	r-cran-readmzxmldata \
	r-cran-readr \
	r-cran-readstata13 \
	r-cran-readxl \
	r-cran-recipes \
	r-cran-redland \
	r-cran-registry \
	r-cran-relimp \
	r-cran-relsurv \
	r-cran-rematch \
	r-cran-remotes \
	r-cran-rentrez \
	r-cran-repr \
	r-cran-reprex \
	r-cran-reshape \
	r-cran-reshape2 \
	r-cran-reticulate \
	r-cran-rgenoud \
	r-cran-rggobi \
	r-cran-rgl \
	r-cran-rglpk \
	r-cran-rglwidget \
	r-cran-rgtk2 \
	r-cran-rhandsontable \
	r-cran-rinside \
	r-cran-rio \
	r-cran-ritis \
	r-cran-rjags \
	r-cran-rjava \
	r-cran-rjson \
	r-cran-rlang \
	r-cran-rlist \
	r-cran-rlumshiny \
	r-cran-rmarkdown \
	r-cran-rmpi \
	r-cran-rms \
	r-cran-rmysql \
	r-cran-rncl \
	r-cran-rneos \
	r-cran-rnetcdf \
	r-cran-rnexml \
	r-cran-rngtools \
	r-cran-rniftilib \
	r-cran-robustbase \
	r-cran-rocr \
	r-cran-rodbc \
	r-cran-rotl \
	r-cran-roxygen2 \
	r-cran-rpact \
	r-cran-rpart \
	r-cran-rpostgresql \
	r-cran-rprojroot \
	r-cran-rprotobuf \
	r-cran-rquantlib \
	r-cran-rredlist \
	r-cran-rsclient \
	r-cran-rsdmx \
	r-cran-rserve \
	r-cran-rsolnp \
	r-cran-rspectra \
	r-cran-rsprng \
	r-cran-rsqlite \
	r-cran-rstan \
	r-cran-rstantools \
	r-cran-rstudioapi \
	r-cran-rsymphony \
	r-cran-rtsne \
	r-cran-runit \
	r-cran-rvest \
	r-cran-rwave \
	r-cran-samr \
	r-cran-sandwich \
	r-cran-satellite \
	r-cran-scales \
	r-cran-scatterd3 \
	r-cran-scatterplot3d \
	r-cran-sdmtools \
	r-cran-segmented \
	r-cran-selectr \
	r-cran-sem \
	r-cran-semtools \
	r-cran-sendmailr \
	r-cran-seqinr \
	r-cran-seriation \
	r-cran-seroincidence \
	r-cran-sessioninfo \
	r-cran-sf \
	r-cran-sfsmisc \
	r-cran-shape \
	r-cran-shazam \
	r-cran-shiny \
	r-cran-shinybs \
	r-cran-shinydashboard \
	r-cran-shinyfiles \
	r-cran-shinyjs \
	r-cran-shinythemes \
	r-cran-sjlabelled \
	r-cran-sjmisc \
	r-cran-sjplot \
	r-cran-sjstats \
	r-cran-slam \
	r-cran-sm \
	r-cran-sn \
	r-cran-snakecase \
	r-cran-snow \
	r-cran-snowballc \
	r-cran-snowfall \
	r-cran-solrium \
	r-cran-sourcetools \
	r-cran-sp \
	r-cran-spam \
	r-cran-sparsem \
	r-cran-spatial \
	r-cran-spatstat.data \
	r-cran-spatstat.utils \
	r-cran-spatstat \
	r-cran-spc \
	r-cran-spdata \
	r-cran-spdep \
	r-cran-spp \
	r-cran-squarem \
	r-cran-stabledist \
	r-cran-stanheaders \
	r-cran-stars \
	r-cran-statmod \
	r-cran-stringdist \
	r-cran-stringi \
	r-cran-stringr \
	r-cran-strucchange \
	r-cran-surveillance \
	r-cran-survey \
	r-cran-survival \
	r-cran-svglite \
	r-cran-sys \
	r-cran-taxize \
	r-cran-tcltk2 \
	r-cran-tcr \
	r-cran-teachingdemos \
	r-cran-tensor \
	r-cran-testit \
	r-cran-testthat \
	r-cran-tfmpvalue \
	r-cran-tgp \
	r-cran-th.data \
	r-cran-threejs \
	r-cran-tibble \
	r-cran-tidyr \
	r-cran-tidyselect \
	r-cran-tidyverse \
	r-cran-tigger \
	r-cran-tikzdevice \
	r-cran-timedate \
	r-cran-timeseries \
	r-cran-tinytex \
	r-cran-tkrplot \
	r-cran-tm \
	r-cran-tmb \
	r-cran-tmvtnorm \
	r-cran-treescape \
	r-cran-treespace \
	r-cran-triebeard \
	r-cran-trimcluster \
	r-cran-truncdist \
	r-cran-truncnorm \
	r-cran-tseries \
	r-cran-tsp \
	r-cran-ttr \
	r-cran-ucminf \
	r-cran-udunits2 \
	r-cran-units \
	r-cran-urca \
	r-cran-urltools \
	r-cran-usethis \
	r-cran-utf8 \
	r-cran-uuid \
	r-cran-v8 \
	r-cran-vcd \
	r-cran-vcdextra \
	r-cran-vcr \
	r-cran-vegan \
	r-cran-vgam \
	r-cran-vioplot \
	r-cran-viridis \
	r-cran-viridislite \
	r-cran-waveslim \
	r-cran-wavethresh \
	r-cran-wdi \
	r-cran-webmockr \
	r-cran-webshot \
	r-cran-webutils \
	r-cran-whatif \
	r-cran-whisker \
	r-cran-wikidatar \
	r-cran-wikipedir \
	r-cran-wikitaxa \
	r-cran-withr \
	r-cran-wordcloud \
	r-cran-worrms \
	r-cran-xfun \
	r-cran-xml \
	r-cran-xml2 \
	r-cran-xopen \
	r-cran-xslt \
	r-cran-xtable \
	r-cran-xts \
	r-cran-yaml \
	r-cran-zelig \
	r-cran-zeligchoice \
	r-cran-zeligei \
	r-cran-zeligverse \
	r-cran-zip \
	r-cran-zoo

# Make a user, then copy over the /example directory
RUN useradd -m user && echo "user:password" | chpasswd
COPY --chown=user:user ./examples /home/user/examples
RUN chmod -R +x  /home/user/examples/lua
RUN echo 'root:password' | chpasswd
CMD ["R", "-e", "install.packages(c('fastverse','openxlsx','openxlsx2','eurodata','shiny','tidyverse'))"]
CMD [ "/bin/bash" ]
